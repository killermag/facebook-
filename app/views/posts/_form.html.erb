<%= javascript_pack_tag 'image_upload' %> 
<div class="flex items-center justify-center">
  <%= form_with model: @post, class: 'bg-white mt-40 w-1/4 rounded-lg shadow-2xl' do |f| %>
  
    <% if request.query_parameters[:redirect] %>
      <%= f.hidden_field :redirect, value: false %>
    <% end %>

    <div class="flex flex-col items-center mx-2 my-4 space-y-3">
      <div class="text-xl font-semibold"> <%= action_name == 'edit' ? 'Edit post' : 'Create post' %> </div> 
      <div class="w-full pb-3"><hr></div>
      <%= f.text_area :body, class: 'w-full resize-none p-2 text-lg outline-none text-gray-600', placeholder: 'What\'s on your mind?', rows: 6 %>
      <div class="image-div w-full font-semibold text-base text-gray-600 flex justify-center items-center cursor-pointer hover:bg-gray-200"> 
        <svg class="inline w-8 h-8 fill-current text-green" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
        </svg> 
        <p>Photos/Video</p> 
        <%= f.file_field :image, id: 'image-upload', class: 'hidden' %>
      </div>
      <% value = (action_name == 'edit' ? 'Edit' : 'Post')  %>
      <%= f.submit value, class: 'rounded w-full bg-blue-600 py-1 text-white font-semibold hover:opacity-80' %>
    </div>
  <% end %>
</div>
